<section>
      VmInclude:/components/grid.query.v3.html
</section>
<script>
    function F__ID(){
        //-------------------------------------
        VmInclude:/components/grid.v3.js
        //-------------------------------------
        $('#title__ID').html('Queries | Find Projects Under A Programme')
        //-------------------------------------
        $('#q1__ID').autocomplete({
            minLength:0,
            source:function(request,response){
                var sql="with tb as (select name=@('Code') from [TABLE-20000013])";
                sql+=" select top 10 name,value=name from tb where name like '%'+@S1+'%' ";
                $VmAPI.request({data:{cmd:'auto',s1:request.term,sql:sql,minLength:0},callback:function(res){
                    response($vm.autocomplete_list(res.table));
                }});
            },
        })
        $('#q1__ID').focus(function(){$('#q1__ID').autocomplete("search","");});
        //-------------------------------------
        _fields="Project,Country,Code|Project_Code";
        //-------------------------------------
        $('#query1__ID').on('click',function(){ _set_req(); _request_data(); })
        //-------------------------------------
        $('#D__ID').on('load',function(){
        })
        //-------------------------------------
        _set_req=_set_req_export=function(){
            var sql = "select Information from [TABLE-"+_db_pid+"] where @('Project_Code') like '%'+@S1+'%'"
            _req={cmd:'query_records',sql:sql,s1:$('#q1__ID').val()}
        }
        //-------------------------------------
    }
</script>
<style>
    VmInclude:/components/grid.v3.css
</style>
